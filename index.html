<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>jQuery Template</title>

  <link rel="stylesheet" href="index.css" type="text/css">
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
</head>

<body>
  <span id='age'></span><br><input type="text" id='ageAnswer'><button class='age'>Submit</button><br><br>
  <span id='color'></span><br><input type="text" id='colorAnswer'><button class='color'>Submit</button><br><br>
  <span id='ethnicity'></span><br><input type="text" id='ethnicityAnswer'><button class='ethnicity'>Submit</button><br><br>

  <script>
    var answerValue2
    var answerValue
    var age
    var color
    var ethnicity

    $('#age').html('How old are you?')
    $('#color').html('What is your favorite color?')
    $('#ethnicity').html('What is your ethnicity?')

    function getData(data,list){
      var query = firebase.database().ref(data).orderByKey();
      query.once("value")
        .then(function(snapshot) {
          snapshot.forEach(function(childSnapshot) {
            // childData will be the actual contents of the child
            var childData = childSnapshot.val();
            var objects = (Object.values(childData))
            list.push(objects[0])
        });
      });
    }
    
    function getValue(val){
      answerValue2 = document.getElementById(val).value
      answerValue = answerValue2.trim()
    }
    
    $('.age').click(function() {
      getValue('ageAnswer')
      writeAgeData(answerValue)
      age = []
      getData('age/',age)
    });
    
    $('.color').click(function() {
      getValue('colorAnswer')
      writeColorData(answerValue)
      color = []
      getData('color/',color)
    });
    
    $('.ethnicity').click(function() {
      getValue('ethnicityAnswer')
      writeEthnicityData(answerValue)
      ethnicity = []
      getData('ethnicity/',ethnicity)
    });
    
  </script>

  <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyACSL_vfuK6_ff6gwU22MIpVeNEunAGIXs",
      authDomain: "generator-project1.firebaseapp.com",
      databaseURL: "https://generator-project1.firebaseio.com",
      projectId: "generator-project1",
      storageBucket: "generator-project1.appspot.com",
      messagingSenderId: "114613586829"
    };
    firebase.initializeApp(config);

    var database = firebase.database();

    function writeAgeData(ageValue) {
      firebase.database().ref('age/').push().set({
        value: ageValue
      });
    }

    function writeColorData(colorValue) {
          firebase.database().ref('color/').push().set({
            value:colorValue
          });
    }

    function writeEthnicityData(ethnicityValue) {
          firebase.database().ref('ethnicity/').push().set({
            value:ethnicityValue
          });
    }
  </script>
</body>

</html>